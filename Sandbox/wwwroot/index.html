<!DOCTYPE html>
<html>

<head>
<title>ASP.NET Core Sandbox</title>
<script src='mehQuery.js'></script>
</head>

<body>

<h1>Web API Testing</h1>

<h2>Log Endpoint</h2>
<p>
	<input id='logContentInput' placeholder='Type log content here' />
	<button id='putLogButton'>PUT Log</button>
</p>

<p>
	<button id='getLogButton'>GET Log</button><br>
	<textarea id='logText' placeholder='Click fetch button to populate'></textarea>
</p>

<script type='text/javascript'>

$('putLogButton').onclick = function() {
	var url = $.baseUrl() + 'log/?content=' + $('logContentInput').value;
	console.log(url);
	$.put(url, function (body, status) {
		if (status != 200) {
			console.log('append log returned status: ' + status);
		}
	});
}

$('getLogButton').onclick = function() {
	var url = $.baseUrl() + 'log/';
	$.get(url, function (body, status) {
		if (status != 200) {
			console.log('append log returned status: ' + status);
		} else {
			$('logText').value = body;
		}
	});
}

</script>

</body>
</html>
